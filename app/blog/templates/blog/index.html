{% extends 'base.html' %}

{% block app_content %}
    {% for post in posts.items %}
        <div class="row top-buffer">
            <div class="col-md-12">
                <h3>
                    <a href="{{ url_for('blog.post', url_title=post.url) }}" class="a-title"><strong>{{ post.title }}</strong></a>
                </h3>
                <p>
                    <span class="text-muted">
                        {{ post.timestamp.strftime('%B %d, %Y') }}
                    </span>
                    {% for tag in post.tags %}
                        <a href="{{ url_for('blog.index', tag=tag.text) }}" class="a-tag">{{ tag.text }}</a>
                    {% endfor %}
                </p>
                <p>
                    {{ post.body|markdown }}
                </p>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('admin.update', post_id=post.id) }}" class="font-small">edit</a>
                    <a href="{{ url_for('admin.delete', post_id=post.id) }}" class="font-small">delete</a>
                {% endif %}
            </div>
        </div>
    {% endfor %}

    <nav aria-label="...">
        <ul class="pager">
            <li class="previous{% if not prev_url %} disabled{% endif %}">
                <a href="{{ url_for('blog.index', page=posts.next_num) or '#' }}">
                    <span aria-hidden="true">&larr;</span> New
                </a>
            </li>
            <li class="next{% if not next_url %} disabled{% endif %}">
                <a href="{{ url_for('blog.index', page=posts.prev_num) or '#' }}">
                    Old <span aria-hidden="true">&rarr;</span>
                </a>
            </li>
        </ul>
    </nav>

{% endblock %}
